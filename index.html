<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="icon" href="emojis/favicon.png">
</head>
<body>
    <div>
        <div class="header"> 
            <h1>Rock Paper Scissors</h1>
        </div>
        <div class="container">
            <div>
                <button onclick="
                    imgdisplay('rock');
                    compselecnum();
                    game(perselec , compselec);
                    ">
                    <img src="emojis
/rock-emoji.png">
                </button>
            </div>

            <div>
                <button onclick="imgdisplay('paper');
                compselecnum();
                game(perselec , compselec);
                ">
                    <img src="emojis
/paper-emoji.png">
                </button>
            </div>

            <div>
                <button onclick="imgdisplay('scissors');
                compselecnum();
                game(perselec , compselec);
                ">
                <img src="emojis/scissors-emoji.png">
                </button>
            </div>

        </div>
        <div >
            <h2 class="result"></h2>
        </div>
        <div>
            You <img  class="personimg" src=""> <img class="computerimg" src=""> Computer
        </div>
        <div class="fotter">
            Wins: <span class="win"></span>, Loses: <span class="lose"></span>, Tie:<span class="tie"></span>

        </div>

        <button class="resetscore" onclick="
        score.wins = 0;
        score.loses = 0;
        score.tie = 0;
        localStorage.removeItem('scorecard');
        document.querySelector('.win').innerHTML = score.wins; 
        document.querySelector('.lose').innerHTML = score.loses; 
        document.querySelector('.tie').innerHTML = score.tie; 
        ">
            Reset Score
        </button>
    </div>


    <script>
        let perselec = "";
        let compselec = "";
        const score = JSON.parse(localStorage.getItem('scorecard')) || {
            wins: 0,
            loses: 0,
            tie: 0
        };
        document.querySelector('.win').innerHTML = score.wins; 
        document.querySelector('.lose').innerHTML = score.loses; 
        document.querySelector('.tie').innerHTML = score.tie; 



        function imgdisplay(perselec1){
            
            if(perselec1 === "rock"){
                document.querySelector(".personimg").src = "emojis/rock-emoji.png";
                perselec = "rock";

            }else if(perselec1 === "scissors"){
                document.querySelector(".personimg").src = "emojis/scissors-emoji.png";
                perselec = "scissors";
            }else if(perselec1 === "paper"){
                document.querySelector(".personimg").src = "emojis/paper-emoji.png";
                perselec = "paper";
            }
        }
        function compselecnum(){
            const num = Math.random();
            if (0<num && num<=1/3 ){
                document.querySelector(".computerimg").src = "emojis/rock-emoji.png";
                compselec = "rock";
            }else if(1/3<num && num<=2/3){
                document.querySelector(".computerimg").src = "emojis/scissors-emoji.png"
                compselec = "scissors";
            }else if (2/3<num && num<=1){
                document.querySelector(".computerimg").src = "emojis/paper-emoji.png";
                compselec = "paper";
            }
        }

        function game(perselec , compselec){
            if(perselec === compselec){
                document.querySelector(".result").innerHTML = "Tie";
                score.tie++;
                document.querySelector(".tie").innerHTML = score.tie;
                
            }else if(perselec === "rock" && compselec === "scissors"){
                document.querySelector(".result").innerHTML= "You Win";
                score.wins++;
                document.querySelector(".win").innerHTML = score.wins;
            }else if(perselec === "paper" && compselec === "rock"){
                document.querySelector(".result").innerHTML = "You Win";
                score.wins++;
                document.querySelector(".win").innerHTML = score.wins;
            }else if(perselec === "scissors" && compselec === "paper"){
                document.querySelector(".result").innerHTML = "You Win";
                score.wins++;
                document.querySelector(".win").innerHTML = score.wins;
            }else if(perselec === "scissors" && compselec === "rock"){
                document.querySelector(".result").innerHTML = "You Lose";
                score.loses++;
                document.querySelector(".lose").innerHTML = score.loses;
            }else if(perselec === "rock" && compselec === "paper"){
                document.querySelector(".result").innerHTML = "You Lose";
                score.loses++;
                document.querySelector(".lose").innerHTML = score.loses;
            }else if(perselec === "paper" && compselec === "scissors"){
                document.querySelector(".result").innerHTML = "You Lose";
                score.loses++;
                document.querySelector(".lose").innerHTML = score.loses;
            }
            localStorage.setItem('scorecard' , JSON.stringify(score));
        }


    </script>
    
</body>
</html>
